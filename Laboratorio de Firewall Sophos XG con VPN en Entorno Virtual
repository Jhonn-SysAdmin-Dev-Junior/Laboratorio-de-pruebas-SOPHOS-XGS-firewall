## ğŸ› ï¸ Herramientas utilizadas

- **VirtualBox** / **VMware** â€“ Hypervisor para las MVs.
- **Sophos XG Home Edition** â€“ Firewall perimetral virtualizado.
- **Cliente VPN SSL de Sophos** â€“ Para conexiÃ³n remota al firewall.
- **Host local Windows/Linux** â€“ Como cliente de prueba.
- Red interna y simulaciÃ³n WAN para probar accesos externos.

---

## ğŸ§© Objetivos del laboratorio

- Simular un entorno real de red segura.
- Configurar reglas de firewall y control de acceso.
- Habilitar y probar una **VPN SSL** remota.
- Administrar usuarios, grupos y polÃ­ticas.
- Documentar errores y soluciones encontradas.

---

## ğŸ§ª Proceso de configuraciÃ³n y pruebas

### ğŸ”¹ 1. ConfiguraciÃ³n inicial de Sophos
- InstalaciÃ³n de Sophos XG en VM.
<img src="imgs/instalacion1.png" width=600>
- AsignaciÃ³n de interfaces LAN y WAN.
- CreaciÃ³n de zonas y segmentos de red simulados.

### ğŸ”¹ 2. GestiÃ³n de usuarios y grupos
- Se identificÃ³ que algunos **grupos de usuarios no pueden eliminarse** si estÃ¡n en uso.
- Posible conflicto inicial relacionado con Active Directory, aunque **no se utilizÃ³ ningÃºn AD externo.**

### ğŸ”¹ 3. PolÃ­ticas y reglas de firewall
- Se eliminaron polÃ­ticas SSL y reglas innecesarias para limpiar la configuraciÃ³n.
- No se podÃ­a asignar usuarios a ciertos grupos hasta vaciar dependencias.

### ğŸ”¹ 4. ConfiguraciÃ³n de VPN SSL
- Se habilitÃ³ el acceso VPN por WAN.
- El cliente SSL VPN fue descargado e instalado correctamente.
- Al intentar conectarse, la VPN se conectaba pero **desconectaba de inmediato.**

### ğŸ”¹ 5. SoluciÃ³n al problema de desconexiÃ³n
- Se revisaron **reglas ACL y acceso remoto al portal de usuarios.**
- Se verificÃ³ que la interfaz WAN permite acceso SSL VPN (puerto 8443).
- Se examinÃ³ el archivo `.ovpn` y se confirmÃ³ que contiene mÃºltiples rutas de fallback (`remote`).
- Se dejÃ³ clara la diferencia entre editar el `.ovpn` directamente vs. regenerarlo tras cambios en el firewall.

---

## ğŸ§± Estructura esperada del laboratorio

```bash
ğŸ“ laboratorio-sophos-vpn
â”œâ”€â”€ vpn-config/
â”‚   â”œâ”€â”€ cliente-vpn.ovpn
â”‚   â””â”€â”€ notas-configuracion.md
â”œâ”€â”€ capturas/
â”‚   â”œâ”€â”€ error-vpn.png
â”‚   â””â”€â”€ interfaz-firewall.png
â”œâ”€â”€ README.md
